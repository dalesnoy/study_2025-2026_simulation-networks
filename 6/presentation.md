---
title: "Отчет по лабораторной работе №6 Дисциплина: Моделирование сетей передачи данных"
author: "Леснухин Даниил Дмитриевич\nРоссийский университет дружбы народов\nМосква"
date: ""
lang: ru
theme: Madrid
colortheme: seahorse
fontsize: 12pt
header-includes:
  - \usepackage{fontspec}
  - \setsansfont{Times New Roman}
  - \setmainfont{Times New Roman}
---

# Цель работы

Основной целью работы является знакомство с принципами работы дисциплины очереди Token Bucket Filter, которая формирует входящий/исходящий трафик для ограничения пропускной способности, а также получение навыков моделирования и исследования поведения трафика посредством проведения интерактивного и воспроизводимого экспериментов в Mininet.

---

# Задание

1. Задайте топологию, состоящую из двух хостов и двух коммутаторов с назначенной по умолчанию mininet сетью 10.0.0.0/8.
2. Проведите интерактивные эксперименты по ограничению пропускной способности сети с помощью TBF.
3. Самостоятельно реализуйте воспроизводимые эксперимент по применению TBF для ограничения пропускной способности. Постройте соответствующие графики.

---

# Теоретическое введение

Mininet[@mininet] — это эмулятор компьютерной сети.  
Под сетью подразумеваются хосты, коммутаторы и OpenFlow-контроллеры.  
С помощью простейшего синтаксиса можно разворачивать сети произвольной топологии в одной виртуальной машине.  
На хостах можно использовать ifconfig, ping и доступ к терминалу, на коммутаторы можно добавлять правила маршрутизации.

---

# Запуск лабораторной топологии

Запустим Mininet и создадим топологию: два хоста и два коммутатора.  
На хостах h1 и h2 и коммутаторах s1, s2 проверяем интерфейсы:

![](1.png)

---

# Проверка подключения с помощью iPerf3

- На h2: `iperf3 -s`  
- На h1: `iperf3 -c 10.0.0.2`  

После завершения останавливаем iPerf3 на h2 (Ctrl + c).

![](2.png)

---

# Ограничение скорости на конечных хостах

Применяем фильтр Token Bucket Filter (TBF) на h1:

`sudo tc qdisc add dev h1-eth0 root tbf rate 10gbit burst 5000000 limit 15000000`

Проверяем пропускную способность через iPerf3.

![](3.png)

---

# Ограничение скорости на коммутаторах

Применяем TBF на интерфейсе s1-eth2 коммутатора s1:

`sudo tc qdisc add dev s1-eth2 root tbf rate 10gbit burst 5000000 limit 15000000`

Проверяем пропускную способность через iPerf3.

![](4.png)

---

# Объединение NETEM и TBF

- На s1-eth2 добавляем задержку и джиттер:  
`sudo tc qdisc add dev s1-eth2 root handle 1: netem delay 10ms`
- Добавляем ограничение скорости TBF:  
`sudo tc qdisc add dev s1-eth2 parent 1: handle 2: tbf rate 2gbit burst 1000000 limit 2000000`

![](5.png)

---

# Выводы

В результате выполнения работы:  

- Познакомились с принципами работы Token Bucket Filter для ограничения пропускной способности.  
- Получили навыки моделирования трафика с помощью Mininet.  
- Научились комбинировать NETEM и TBF для изменения задержки, джиттера и ограничения скорости.  
