---
title: "Лабораторная работа №1 Введение в mininet"
author: |
  Леснухин Даниил Дмитриевич  
  Российский университет дружбы народов  
  Москва
date: ""
---

\thispagestyle{empty}
\maketitle
\newpage

# Цель работы
 Основной целью работы является развёртывание в системе виртуализации (например, в VirtualBox) mininet, знакомство с основными командами для работы с Mininet через командную строку и через графический интерфейс.


# Задание

Развернуть и настроить среду Mininet, изучить основы работы с эмулятором, построить простейшую топологию сети и проверить связность узлов.


# Теоретическое введение

Mininet — это программная среда для эмуляции компьютерных сетей, позволяющая создавать виртуальные топологии с хостами, коммутаторами и каналами связи. В среде Mininet используются реальные сетевые приложения Linux и настоящий сетевой стек ядра, что делает результаты моделирования близкими к работе реальных сетей.

Mininet применяется для:

* тестирования сетевых протоколов,

* разработки и отладки сетевых приложений,

* моделирования архитектур программно-определяемых сетей (SDN),

* исследования пропускной способности и задержек.

Каждый виртуальный хост в Mininet представляет собой изолированное сетевое пространство имён (network namespace) Linux, имеющее собственные сетевые интерфейсы и IP-адреса. Коммутаторы эмулируются программно, чаще всего с использованием Open vSwitch.

По умолчанию Mininet позволяет запускать минимальную топологию, состоящую из одного коммутатора и двух хостов. Узлам автоматически назначаются IP-адреса из заданной подсети. Проверка связности осуществляется с использованием протокола ICMP и утилиты `ping`.

# Выполнение лабораторной работы 

В первую очередь нам необходимо установить и настроить нашу виртуальную машину с образом, который мы предварительно скачали с репозитория Mininet: https://github.com/mininet/mininet.

![Установка графического контроллера vmsvga](1.png)


![Установка адаптера №2 в качестве виртуального](3.png)


## Подключение к виртуальной машине
Нам необходимо залогиниться в виртуальной машине под login: mininet и password: mininet и ввести команду ifconfig для получения внутреннего адреса машины 

![Получение внутреннего адреса хоста](4.png)

## Настройка доступа в интернет
Для доступа к сети нам необходимо активировать второй интерфейс следующими командами

![Активация второго интерфейса](5.png)

Теперь для нашего же дальнейшего удобства необходимо для mininet добавить указание на использование двух адаптеров при запуске. Для этого изменим файл /etc/netplan/01- netcfg.yaml

![изменение файла /etc/netplan/01- netcfg.yaml](6.png)

## Обновление версии Mininet


– В виртуальной машине mininet переименуем предыдущую установку Mininet: 
mv ~/mininet ~/mininet.orig

– Скачаем новую версию Mininet: 1 cd ~ 2 git clone https://github.com/mininet/mininet.git
cd ~ 
git clone https://github.com/mininet/mininet.git

Обновим исполняемые файлы:
cd ~/mininet 
sudo make install

![Обновление версии mininet](7.png)


## Настройка параметров XTerm

По умолчанию XTerm использует растровые шрифты малого кегля. Для увеличения размера шрифта и применения векторных шрифтов вместо растровых необходимо внести изменения в файл /etc/X11/app-defaults/XTerm. Для этого можно воспользоваться следующей командой:

sudo mcedit /etc/X11/app-defaults/XTerm

и затем в конце файла добавить строки:
xterm *faceName: Monospace 
xterm *faceSize: 12

![Настрйока параметров XTerm](8.png)

## Работа с Mininet из-под Windows

Установка программного обеспечения.
– Установим putty:
	choco install putty
– Установите VcXsrv Windows X Server:
	choco install vcxsrv
    
![Работа с Mininet из-под Windows](9.png)


## Основы работы в Mininet

Вызов Mininet с использованием топологии по умолчанию.
– Для запуска минимальной топологии введите в командной строке: 

sudo mn

![Основы работы в Mininet](15.png)

## Проверка связности

По умолчанию узлам h1 и h2 назначаются IP-адреса 10.0.0.1/8 и 10.0.0.2/8 соответственно. Чтобы проверить связь между ними, вы можете использовать команду ping. Команда ping работает, отправляя сообщения эхо-запроса протокола управляющих сообщений Интернета (ICMP) на удалённый компьютер и ожидая ответа.

Например, команда

![Проверка связности](17.png)

## Топология 

![строим топологию](18.png)

Проверяем связь между двумя узлами

![проверка связи](21.png)

Автоматическое назначение IP-адресов. Ранее IP-адреса узлам h1 и h2 были назначены вручную. В качестве альтернативы можно полагаться на Mininet для автоматического назначения IP-адресов. – Удалите назначенный вручную IP-адрес с хостов h1 и h2. – В MiniEdit нажмите Edit Preferences . По умолчанию в поле базовые значения IP-адресов (IP Base) установлено 10.0.0.0/8. Измените это значение на 15.0.0.0/8.

![Изменение ip - адреса вручную](22.png)

Проверка работы 

![Запуск топологии с новыми адресами](23.png)

# Вывод

В ходе лабораторной работы была развернута и настроена виртуальная среда Mininet в системе виртуализации VirtualBox. Были изучены основные принципы работы эмулятора сетей, выполнена настройка сетевых интерфейсов и организовано SSH-подключение к виртуальной машине.

В процессе работы была запущена минимальная топология, исследована её структура и определены IP-адреса узлов. Проверка связности между хостами с использованием утилиты `ping` показала корректную работу сети.

Также была построена аналогичная топология в графическом интерфейсе MiniEdit и изучен механизм автоматического назначения IP-адресов.

Таким образом, были получены практические навыки работы с Mininet и освоены базовые методы моделирования сетей передачи данных.
