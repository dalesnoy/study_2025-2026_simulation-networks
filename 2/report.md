---
title: "Лабораторная работа №2. Измерение и тестирование пропускной способности сети"
author: |
  Леснухин Даниил Дмитриевич  
  Российский университет дружбы народов  
  Москва
date: ""
lang: ru
fontsize: 12pt
geometry: margin=2cm
header-includes:
  - \usepackage{fontspec}
  - \setmainfont{Times New Roman}
  - \usepackage{graphicx}
  - \usepackage{float}
---
# Цель работы

Основной целью работы является знакомство с инструментом для измерения
пропускной способности сети в режиме реального времени — iPerf3, а также
получение навыков проведения интерактивного эксперимента по измерению
пропускной способности моделируемой сети в среде Mininet.

# Задание

1. Установить на виртуальную машину mininet iPerf3 и дополнительное программное обеспечение для визуализации и обработки данных.  
2. Провести ряд интерактивных экспериментов по измерению пропускной
способности с помощью iPerf3 с построением графиков.

# Теоретическое введение

Mininet — это эмулятор компьютерной сети. Под компьютерной сетью подразумеваются простые компьютеры — хосты, коммутаторы, а также OpenFlow-контроллеры. С помощью простейшего синтаксиса в интерпретаторе команд можно разворачивать сети из произвольного количества хостов и коммутаторов в различных топологиях, всё это в одной виртуальной машине (ВМ). На хостах можно изменять сетевую конфигурацию, пользоваться утилитами `ifconfig`, `ping` и даже получать доступ к терминалу. На коммутаторы можно добавлять правила и маршрутизировать трафик.

iPerf3 — это кроссплатформенное клиент-серверное приложение с открытым исходным кодом, которое измеряет пропускную способность между двумя устройствами.  
Протоколы:  
- TCP и SCTP: измеряет пропускную способность, задает MSS/MTU, отслеживает размер окна перегрузки TCP (CWnd).  
- UDP: измеряет пропускную способность, потери пакетов, jitter и поддерживает multicast.

# Выполнение лабораторной работы

## Установка необходимого программного обеспечения

Запустим виртуальную среду с Mininet.  
Подключаемся по SSH к виртуальной машине и активируем второй интерфейс для выхода в сеть.  

![Установка iPerf3](2.png)

Обновим репозитории и установим iPerf3 и дополнительное ПО:

![Установка ПО](3.png) 
![ПО с репозитория](4.png)

## Интерактивные эксперименты

Задаем простейшую топологию из двух хостов и одного коммутатора (сеть 10.0.0.0/8):


![Интерактивный эксперимент](6.png)

Настройки iPerf3:  
- ID соединения  
- Интервал отчета (`Interval`)  
- Передача (`Transfer`)  
- Пропускная способность (`Bitrate`)  
- Повторная передача (`Retr`)  
- Размер окна перегрузки (`Cwnd`)  

Указание времени передачи с помощью `-t`:

![Указание периода времени t=5](7.png)

Установка интервала отсчетов `-i 2`:

![Отправка сигналов с 2-ух секундным интервалом](8.png)

Передача определенного объема данных `-n`:

![Задание определенного объема данных](9.png)

Изменение протокола на UDP `-u`:

![Изменение протокола передачи](10.png)

Изменение номера порта:

![Изменение номера порта для приема/отправки](11.png)

Настройка сервера для одного клиента `-1`:

![Параметр обработки данных только от одного клиента](12.png)

Экспорт результатов в JSON:

![Экспорт результатов теста iPerf3 в файл JSON](14.png)

Проверка создания файла:

![Проверка создания файла iperf_results.json](16.png)

Исправление прав запуска X-соединения:

![Исправление прав запуска X-соединения](17.png)

Визуализация результатов эксперимента:

![Визуализация результатов эксперимента](18.png)

# Выводы

В результате выполнения лабораторной работы я познакомился с инструментом для измерения пропускной способности сети в реальном времени — iPerf3, а также получил навыки проведения интерактивного эксперимента по измерению пропускной способности в среде Mininet.
